global:
  scrape_interval: 15s

alerting:
  alertmanagers:
    - static_configs: [{ targets: ["alertmanager:9093"] }]

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  - job_name: prometheus
    static_configs: [{ targets: ["prometheus:9090"] }]

  - job_name: aiops-api
    static_configs: [{ targets: ["api:8080"] }]

  - job_name: worker-triage
    static_configs: [{ targets: ["triage:9101"], labels: {service: "worker-triage"} }]

  - job_name: worker-summarizer
    static_configs: [{ targets: ["summarizer:9102"], labels: {service: "worker-summarizer"} }]

  - job_name: worker-changelog
    static_configs: [{ targets: ["changelog:9103"], labels: {service: "worker-changelog"} }]